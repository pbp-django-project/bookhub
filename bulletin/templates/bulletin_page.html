{% extends 'base.html' %}
{% load static %}

{% block title %}Bulletin{% endblock title %}

{% block content %}
<div class="min-h-screen flex flex-col">
    <div>
        {% include 'header.html' %}
    </div>
    <div>
        <div class="flex">
            <!-- Searching berita -->
            <div class="my-4 flex items-center">
                <form method="get" id="search-form" action="{% url 'bulletin:search-bulletin' %}">
                    <div class="flex">
                        <input type="text" name="q" id="search-input" placeholder="Search title"
                            class="px-4 py-2 rounded-l-lg border-2 border-gray-300 focus:outline-none focus:border-blue-500 w-4/5 ml-4">
                        <button type="submit"
                            class="px-4 py-2 bg-teal-500 text-white hover:bg-teal-700 rounded-r-lg w-1/3">Search</button>
                    </div>
                </form>
            </div>
            <!-- Menambah berita -->
            <div class="my-4 flex items-center">
                <div>
                    <a href="{% url 'bulletin:add-news-page' %}"
                        class="px-12 py-2 bg-teal-500 py-2.5 rounded-lg block text-white hover:bg-teal-700 rounded ml-4">Add
                        Bulletin</a>
                </div>
            </div>
        </div>
    </div>

    <div class="p-6 flex-grow">
        <!-- Daftar berita di sini -->
        <ul id="bulletin-list">
            {% for bulletin in bulletins %}
            <li>
                <a href="{% url 'bulletin:full-news' bulletin.pk %}"
                    class="py-3 text-lg font-semibold hover:text-gray-600">
                    {{ bulletin.title }}</a>
                <p>{{ bulletin.content|slice:":400" }}...</p>
            </li>
            {% endfor %}
        </ul>
    </div>

    <!-- Kumpulan card rekomendasi buku -->
    <div class="bg-gray-100 p-6">
        <h1 class="text-center text-xl font-semibold py-3">Book Recommendations</h1>
        <div class="flex flex-wrap -mx-4">
            {% for book in latest_books %}
            <div class="w-full md:w-1/2 lg:w-1/3 xl:w-1/5 px-5 mb-4">
                <div class="bg-white shadow-lg rounded-lg p-4 h-64 cursor-grab">
                    <div class="flex">
                        <img src="{{ book.cover_img }}" class="w-32 mx-2">
                        <div>
                            <h2 class="font-bold text-sm">{{ book.title }}</h2>
                            <p class="text-sm">Author: {{ book.authors }}</p>
                            <p class="text-sm">Publisher: {{ book.publisher }}</p>
                            <p class="text-sm">ISBN: {{ book.isbn }}</p>
                            <p class="text-sm">Pub Year: {{ book.pub_year }}</p>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>

    <div>
        <!-- Footer Anda di sini -->
        {% include 'footer.html' %}
    </div>
</div>
{% endblock content %}

